package exercicios;

import java.util.Scanner;

public class TESTE {
	
	public static void main(String[] args) {
		
		Scanner leitura = new Scanner(System.in);
		String jogoVelha[][] = new  String[3][3], jogador, vencedor = "S";
		int proximaLinha = 0, deadLine = 3, linha, coluna, jogadas = 0, continuar;
		
		//prenche a matriz
		for(linha = 0; linha < jogoVelha.length; linha++) {
			for(coluna = 0; coluna < jogoVelha[linha].length; coluna++) {
				jogoVelha[linha][coluna] = "  ";
				}
			}
		
		System.out.println("******JOGO DA VELHA*****");
		
		do {
			System.out.print("Informe qual jogador começará a jogar. X ou O: ");
			jogador = leitura.next().toUpperCase();
		}while(jogador.equals("X") == false & jogador.equals("O") == false);
		
		while(true) {
			
			while(true) {
				
				System.out.println("Jogador " + jogador + " informe a linha e a coluna");
				System.out.print("Linha: ");
				linha = Integer.parseInt(leitura.next());
				System.out.print("Coluna: ");
				coluna = Integer.parseInt(leitura.next());
				
				if(jogoVelha[linha][coluna].equals("  ")) {
					jogoVelha[linha][coluna] = " " + jogador;
					if(jogador.equals("X")) jogador = "O"; else jogador = "X";
					jogadas++;
					break;
				}else System.out.println("A coluna nessa linha já está preenchida com o" + jogoVelha[linha][coluna]);
			}
			
			for(linha = 0; linha < jogoVelha.length; linha++) {
				if((jogoVelha[linha][0].equals(jogoVelha[linha][1]) && jogoVelha[linha][0].equals(jogoVelha[linha][2])) && !jogoVelha[linha][0].equals(" ")) {
					vencedor = jogador;
					continuar++;
					System.out.println("VOLTA " + continuar);
					break;
				}
			
			for(linha = 0; linha < jogoVelha.length; linha++) {
				for(coluna = 0; coluna < jogoVelha[linha].length; coluna++) {
					
					if(proximaLinha < 2) System.out.print(jogoVelha[linha][coluna] + " |"); 
					else System.out.print(jogoVelha[linha][coluna]);
			
					proximaLinha++;
					
					if(proximaLinha == deadLine) {
						proximaLinha = 0;
						System.out.println();
					}
					}
				}
			
				if(vencedor == null && jogadas == 9) System.out.println("EMPATE!!\nDeseja jogar mais uma vez?\n1) Sim\n2) Não"); 
				else if (vencedor.equals("O") || vencedor.equals("X")) System.out.println("O vencedor é " + vencedor + "!\nDeseja jogar mais uma vez?\n1) Sim\n2) Não");
		
		}
	}
		
}
